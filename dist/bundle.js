!function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";n(1),n(2),n(3),n(4),n(5)},function(t,e,n){"use strict";n(6),n(7),t.exports=angular.module("app",["ui.router","help","common","templates"]).config(["$stateProvider",function(t){t.state("home",{url:"","abstract":!0,templateUrl:"components/main.html",controller:"main as main"}).state("home.main",{url:"{id}",views:{item:{templateUrl:"components/item.html",controller:"item as item"},list:{templateUrl:"components/list.html",controller:"list as list"}}})}])},function(t,e,n){"use strict";var o=n(1);o.filter("shorten",function(){var t=30;return function(e){return!e||e.length<t?e:e.slice(0,t)+"..."}})},function(t,e,n){"use strict";var o=function(t,e,n){e&&Object.defineProperties(t,e),n&&Object.defineProperties(t.prototype,n)},r=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=n(1);n(8);var s=n(9);i.controller("item",function(){function t(e,n,o){r(this,t),this.$state=e;var i=n.id;this.notesStorage=o,console.log("trying to open ",i),this.note=new s(i,o.get(i))}return t.$inject=["$state","$stateParams","notesStorage"],o(t,null,{reset:{value:function(){this.note=new s,this.$state.go("home.main",{id:void 0})},writable:!0,configurable:!0},save:{value:function(){console.log("trying to save ",this.note.name),this.notesStorage.set(this.note.name||"[no title]",this.note.text||"")},writable:!0,configurable:!0},overwriting:{get:function(){return this.notesStorage.contains(this.note.name)},configurable:!0},isnew:{get:function(){return!!this.note.name&&!this.notesStorage.contains(this.note.name)},configurable:!0}}),t}())},function(t,e,n){"use strict";var o=function(t,e,n){e&&Object.defineProperties(t,e),n&&Object.defineProperties(t.prototype,n)},r=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=n(1);n(8);n(9);i.controller("list",function(){function t(e,n,o){r(this,t),console.log("list controller init");var i=this;this.$state=n,this.notesStorage=o,this.notes=[],e.$watch(function(){return o.all},function(){i.notes=o.all},!0)}return t.$inject=["$scope","$state","notesStorage"],o(t,null,{remove:{value:function(t){this.notesStorage.remove(t.name)},writable:!0,configurable:!0},routeTo:{value:function(t){console.log("routing to ",t.name),this.$state.go("home.main",{id:t.name})},writable:!0,configurable:!0}}),t}())},function(t,e,n){"use strict";var o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},r=n(1);n(8);n(9);r.controller("main",function i(){o(this,i)})},function(t){"use strict";t.exports=angular.module("common",[])},function(){"use strict";angular.module("help",["ui.router"]).config(["$stateProvider",function(t){console.log("some"),t.state("help",{url:"help",templateUrl:"help/help.html"}).state("help.me",{url:"me",templateUrl:"help/me.html"})}])},function(t,e,n){"use strict";var o=n(6);o.service("notesStorage",["$window",function(t){var e=t.localStorage;return Object.defineProperties({get:function(t){return e.getItem(t)},set:function(t,n){return e.setItem(t,n)},remove:function(e){return t.localStorage.removeItem(e)},contains:function(t){return t in e}},{all:{get:function(){return Object.keys(e).map(function(t){return{name:t,text:e[t]}})},enumerable:!0,configurable:!0},keys:{get:function(){return Object.keys(e)},enumerable:!0,configurable:!0}})}])},function(t){"use strict";var e=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},n=function o(t,n){e(this,o),this.name=t,this.text=n};t.exports=n}]);